{"ast":null,"code":"'use client';\n\nimport { useState } from 'react';\nimport isFunction from 'lodash/isFunction';\nimport isUndefined from 'lodash/isUndefined';\nimport find from 'lodash/find';\nimport { getHeight } from 'dom-lib';\nimport { useEventCallback } from \"../../hooks/index.js\";\nimport { shallowEqual } from \"../../utils/index.js\";\nimport { findNodeOfTree } from \"../../Tree/utils/index.js\";\nimport { onMenuKeyDown } from \"../utils.js\";\n/**\n * A hook that manages the focus state of the option.\n * @param defaultFocusItemValue\n * @param props\n */\nvar useFocusItemValue = function useFocusItemValue(defaultFocusItemValue, props) {\n  var _props$valueKey = props.valueKey,\n    valueKey = _props$valueKey === void 0 ? 'value' : _props$valueKey,\n    _props$focusableQuery = props.focusableQueryKey,\n    focusableQueryKey = _props$focusableQuery === void 0 ? '[data-key][aria-disabled=\"false\"]' : _props$focusableQuery,\n    _props$defaultLayer = props.defaultLayer,\n    defaultLayer = _props$defaultLayer === void 0 ? 0 : _props$defaultLayer,\n    _props$focusToOption = props.focusToOption,\n    focusToOption = _props$focusToOption === void 0 ? true : _props$focusToOption,\n    data = props.data,\n    target = props.target,\n    rtl = props.rtl,\n    callback = props.callback,\n    _props$getParent = props.getParent,\n    getParent = _props$getParent === void 0 ? function (item) {\n      return item === null || item === void 0 ? void 0 : item.parent;\n    } : _props$getParent;\n  var _useState = useState(defaultFocusItemValue),\n    focusItemValue = _useState[0],\n    setFocusItemValue = _useState[1];\n  var _useState2 = useState(defaultLayer),\n    layer = _useState2[0],\n    setLayer = _useState2[1];\n  var _useState3 = useState([]),\n    keys = _useState3[0],\n    setKeys = _useState3[1];\n  var focusCallback = useEventCallback(function (value, event) {\n    if (focusToOption) {\n      var menu = isFunction(target) ? target() : target;\n      var focusElement = menu === null || menu === void 0 ? void 0 : menu.querySelector(\"[data-key=\\\"\" + value + \"\\\"]\");\n      focusElement === null || focusElement === void 0 ? void 0 : focusElement.focus();\n    }\n    callback === null || callback === void 0 ? void 0 : callback(value, event);\n  });\n  var getScrollContainer = useEventCallback(function () {\n    var menu = isFunction(target) ? target() : target;\n\n    // For Cascader and MutiCascader\n    var subMenu = menu === null || menu === void 0 ? void 0 : menu.querySelector(\"[data-layer=\\\"\" + layer + \"\\\"]\");\n    if (subMenu) {\n      return subMenu;\n    }\n\n    // For SelectPicker、CheckPicker、Autocomplete、InputPicker、TagPicker\n    return menu === null || menu === void 0 ? void 0 : menu.querySelector('[role=\"listbox\"]');\n  });\n\n  /**\n   * Get the elements visible in all options.\n   */\n  var getFocusableMenuItems = function getFocusableMenuItems() {\n    if (!target) {\n      return [];\n    }\n    var currentKeys = keys;\n    if (layer < 1) {\n      var popup = isFunction(target) ? target() : target;\n      var rootMenu = popup === null || popup === void 0 ? void 0 : popup.querySelector('[data-layer=\"0\"]');\n      if (rootMenu) {\n        var _rootMenu$querySelect;\n        currentKeys = Array.from((_rootMenu$querySelect = rootMenu.querySelectorAll(focusableQueryKey)) !== null && _rootMenu$querySelect !== void 0 ? _rootMenu$querySelect : []).map(function (item) {\n          var _item$dataset;\n          return (_item$dataset = item.dataset) === null || _item$dataset === void 0 ? void 0 : _item$dataset.key;\n        });\n      } else {\n        var _popup$querySelectorA;\n        currentKeys = Array.from((_popup$querySelectorA = popup === null || popup === void 0 ? void 0 : popup.querySelectorAll(focusableQueryKey)) !== null && _popup$querySelectorA !== void 0 ? _popup$querySelectorA : []).map(function (item) {\n          var _item$dataset2;\n          return (_item$dataset2 = item.dataset) === null || _item$dataset2 === void 0 ? void 0 : _item$dataset2.key;\n        });\n      }\n    }\n\n    // 1. It is necessary to traverse the `keys` instead of `data` here to preserve the order of the array.\n    // 2. The values ​​in `keys` are all string, so the corresponding value of `data` should also be converted to string\n    return currentKeys.map(function (key) {\n      return find(data, function (i) {\n        return \"\" + i[valueKey] === key;\n      });\n    });\n  };\n\n  /**\n   * Get the index of the focus item.\n   */\n  var findFocusItemIndex = useEventCallback(function (callback) {\n    var items = getFocusableMenuItems();\n    for (var i = 0; i < items.length; i += 1) {\n      var _items$i;\n      if (shallowEqual(focusItemValue, (_items$i = items[i]) === null || _items$i === void 0 ? void 0 : _items$i[valueKey])) {\n        callback(items, i);\n        return;\n      }\n    }\n    callback(items, -1);\n  });\n  var scrollListItem = useEventCallback(function (direction, itemValue, willOverflow) {\n    var container = getScrollContainer();\n    var item = container === null || container === void 0 ? void 0 : container.querySelector(\"[data-key=\\\"\" + itemValue + \"\\\"]\");\n    if (willOverflow && container) {\n      var scrollHeight = container.scrollHeight,\n        clientHeight = container.clientHeight;\n      container.scrollTop = direction === 'top' ? scrollHeight - clientHeight : 0;\n      return;\n    }\n    if (item && container) {\n      if (!isVisible(item, container, direction)) {\n        var height = getHeight(item);\n        scrollTo(container, direction, height);\n      }\n    }\n  });\n  var focusNextMenuItem = useEventCallback(function (event) {\n    findFocusItemIndex(function (items, index) {\n      var willOverflow = index + 2 > items.length;\n      var nextIndex = willOverflow ? 0 : index + 1;\n      var focusItem = items[nextIndex];\n      if (!isUndefined(focusItem)) {\n        setFocusItemValue(focusItem[valueKey]);\n        focusCallback(focusItem[valueKey], event);\n        scrollListItem('bottom', focusItem[valueKey], willOverflow);\n      }\n    });\n  });\n  var focusPrevMenuItem = useEventCallback(function (event) {\n    findFocusItemIndex(function (items, index) {\n      var willOverflow = index === 0;\n      var nextIndex = willOverflow ? items.length - 1 : index - 1;\n      var focusItem = items[nextIndex];\n      if (!isUndefined(focusItem)) {\n        setFocusItemValue(focusItem[valueKey]);\n        focusCallback(focusItem[valueKey], event);\n        scrollListItem('top', focusItem[valueKey], willOverflow);\n      }\n    });\n  });\n  var getSubMenuKeys = function getSubMenuKeys(nextLayer) {\n    var menu = isFunction(target) ? target() : target;\n    var subMenu = menu === null || menu === void 0 ? void 0 : menu.querySelector(\"[data-layer=\\\"\" + nextLayer + \"\\\"]\");\n    if (subMenu) {\n      var _Array$from;\n      return (_Array$from = Array.from(subMenu.querySelectorAll(focusableQueryKey))) === null || _Array$from === void 0 ? void 0 : _Array$from.map(function (item) {\n        var _item$dataset3;\n        return (_item$dataset3 = item.dataset) === null || _item$dataset3 === void 0 ? void 0 : _item$dataset3.key;\n      });\n    }\n    return null;\n  };\n  var focusNextLevelMenu = useEventCallback(function (event) {\n    var nextLayer = layer + 1;\n    var nextKeys = getSubMenuKeys(nextLayer);\n    if (nextKeys) {\n      setKeys(nextKeys);\n      setLayer(nextLayer);\n      setFocusItemValue(nextKeys[0]);\n      focusCallback(nextKeys[0], event);\n    }\n  });\n  var focusPrevLevelMenu = useEventCallback(function (event) {\n    var nextLayer = layer - 1;\n    var nextKeys = getSubMenuKeys(nextLayer);\n    if (nextKeys) {\n      var _getParent;\n      setKeys(nextKeys);\n      setLayer(nextLayer);\n      var focusItem = findNodeOfTree(data, function (item) {\n        return item[valueKey] === focusItemValue;\n      });\n      var parentItemValue = (_getParent = getParent(focusItem)) === null || _getParent === void 0 ? void 0 : _getParent[valueKey];\n      if (parentItemValue) {\n        setFocusItemValue(parentItemValue);\n        focusCallback(parentItemValue, event);\n      }\n    }\n  });\n  var handleKeyDown = useEventCallback(function (event) {\n    var _onMenuKeyDown;\n    onMenuKeyDown(event, (_onMenuKeyDown = {\n      down: focusNextMenuItem,\n      up: focusPrevMenuItem\n    }, _onMenuKeyDown[rtl ? 'left' : 'right'] = focusNextLevelMenu, _onMenuKeyDown[rtl ? 'right' : 'left'] = focusPrevLevelMenu, _onMenuKeyDown));\n  });\n  return {\n    focusItemValue: focusItemValue,\n    setFocusItemValue: setFocusItemValue,\n    layer: layer,\n    setLayer: setLayer,\n    keys: keys,\n    setKeys: setKeys,\n    onKeyDown: handleKeyDown\n  };\n};\nfunction scrollTo(container, direction, step) {\n  var scrollTop = container.scrollTop;\n  container.scrollTop = direction === 'top' ? scrollTop - step : scrollTop + step;\n}\n\n/**\n * Checks if the element has a vertical scrollbar.\n */\nfunction hasVerticalScroll(element) {\n  var scrollHeight = element.scrollHeight,\n    clientHeight = element.clientHeight;\n  return scrollHeight > clientHeight;\n}\n\n/**\n * Checks if the element is within the visible area of the container\n */\nfunction isVisible(element, container, direction) {\n  if (!hasVerticalScroll(container)) {\n    return true;\n  }\n  var _element$getBoundingC = element.getBoundingClientRect(),\n    top = _element$getBoundingC.top,\n    bottom = _element$getBoundingC.bottom,\n    height = _element$getBoundingC.height;\n  var _container$getBoundin = container.getBoundingClientRect(),\n    containerTop = _container$getBoundin.top,\n    containerBottom = _container$getBoundin.bottom;\n  if (direction === 'top') {\n    return top + height > containerTop;\n  }\n  return bottom - height < containerBottom;\n}\nexport default useFocusItemValue;","map":{"version":3,"names":["useState","isFunction","isUndefined","find","getHeight","useEventCallback","shallowEqual","findNodeOfTree","onMenuKeyDown","useFocusItemValue","defaultFocusItemValue","props","_props$valueKey","valueKey","_props$focusableQuery","focusableQueryKey","_props$defaultLayer","defaultLayer","_props$focusToOption","focusToOption","data","target","rtl","callback","_props$getParent","getParent","item","parent","_useState","focusItemValue","setFocusItemValue","_useState2","layer","setLayer","_useState3","keys","setKeys","focusCallback","value","event","menu","focusElement","querySelector","focus","getScrollContainer","subMenu","getFocusableMenuItems","currentKeys","popup","rootMenu","_rootMenu$querySelect","Array","from","querySelectorAll","map","_item$dataset","dataset","key","_popup$querySelectorA","_item$dataset2","i","findFocusItemIndex","items","length","_items$i","scrollListItem","direction","itemValue","willOverflow","container","scrollHeight","clientHeight","scrollTop","isVisible","height","scrollTo","focusNextMenuItem","index","nextIndex","focusItem","focusPrevMenuItem","getSubMenuKeys","nextLayer","_Array$from","_item$dataset3","focusNextLevelMenu","nextKeys","focusPrevLevelMenu","_getParent","parentItemValue","handleKeyDown","_onMenuKeyDown","down","up","onKeyDown","step","hasVerticalScroll","element","_element$getBoundingC","getBoundingClientRect","top","bottom","_container$getBoundin","containerTop","containerBottom"],"sources":["C:/Users/lenovo/OneDrive/Documents/local project/platfoorm45_technical_challenge/node_modules/rsuite/esm/internals/Picker/hooks/useFocusItemValue.js"],"sourcesContent":["'use client';\nimport { useState } from 'react';\nimport isFunction from 'lodash/isFunction';\nimport isUndefined from 'lodash/isUndefined';\nimport find from 'lodash/find';\nimport { getHeight } from 'dom-lib';\nimport { useEventCallback } from \"../../hooks/index.js\";\nimport { shallowEqual } from \"../../utils/index.js\";\nimport { findNodeOfTree } from \"../../Tree/utils/index.js\";\nimport { onMenuKeyDown } from \"../utils.js\";\n/**\n * A hook that manages the focus state of the option.\n * @param defaultFocusItemValue\n * @param props\n */\nvar useFocusItemValue = function useFocusItemValue(defaultFocusItemValue, props) {\n  var _props$valueKey = props.valueKey,\n    valueKey = _props$valueKey === void 0 ? 'value' : _props$valueKey,\n    _props$focusableQuery = props.focusableQueryKey,\n    focusableQueryKey = _props$focusableQuery === void 0 ? '[data-key][aria-disabled=\"false\"]' : _props$focusableQuery,\n    _props$defaultLayer = props.defaultLayer,\n    defaultLayer = _props$defaultLayer === void 0 ? 0 : _props$defaultLayer,\n    _props$focusToOption = props.focusToOption,\n    focusToOption = _props$focusToOption === void 0 ? true : _props$focusToOption,\n    data = props.data,\n    target = props.target,\n    rtl = props.rtl,\n    callback = props.callback,\n    _props$getParent = props.getParent,\n    getParent = _props$getParent === void 0 ? function (item) {\n      return item === null || item === void 0 ? void 0 : item.parent;\n    } : _props$getParent;\n  var _useState = useState(defaultFocusItemValue),\n    focusItemValue = _useState[0],\n    setFocusItemValue = _useState[1];\n  var _useState2 = useState(defaultLayer),\n    layer = _useState2[0],\n    setLayer = _useState2[1];\n  var _useState3 = useState([]),\n    keys = _useState3[0],\n    setKeys = _useState3[1];\n  var focusCallback = useEventCallback(function (value, event) {\n    if (focusToOption) {\n      var menu = isFunction(target) ? target() : target;\n      var focusElement = menu === null || menu === void 0 ? void 0 : menu.querySelector(\"[data-key=\\\"\" + value + \"\\\"]\");\n      focusElement === null || focusElement === void 0 ? void 0 : focusElement.focus();\n    }\n    callback === null || callback === void 0 ? void 0 : callback(value, event);\n  });\n  var getScrollContainer = useEventCallback(function () {\n    var menu = isFunction(target) ? target() : target;\n\n    // For Cascader and MutiCascader\n    var subMenu = menu === null || menu === void 0 ? void 0 : menu.querySelector(\"[data-layer=\\\"\" + layer + \"\\\"]\");\n    if (subMenu) {\n      return subMenu;\n    }\n\n    // For SelectPicker、CheckPicker、Autocomplete、InputPicker、TagPicker\n    return menu === null || menu === void 0 ? void 0 : menu.querySelector('[role=\"listbox\"]');\n  });\n\n  /**\n   * Get the elements visible in all options.\n   */\n  var getFocusableMenuItems = function getFocusableMenuItems() {\n    if (!target) {\n      return [];\n    }\n    var currentKeys = keys;\n    if (layer < 1) {\n      var popup = isFunction(target) ? target() : target;\n      var rootMenu = popup === null || popup === void 0 ? void 0 : popup.querySelector('[data-layer=\"0\"]');\n      if (rootMenu) {\n        var _rootMenu$querySelect;\n        currentKeys = Array.from((_rootMenu$querySelect = rootMenu.querySelectorAll(focusableQueryKey)) !== null && _rootMenu$querySelect !== void 0 ? _rootMenu$querySelect : []).map(function (item) {\n          var _item$dataset;\n          return (_item$dataset = item.dataset) === null || _item$dataset === void 0 ? void 0 : _item$dataset.key;\n        });\n      } else {\n        var _popup$querySelectorA;\n        currentKeys = Array.from((_popup$querySelectorA = popup === null || popup === void 0 ? void 0 : popup.querySelectorAll(focusableQueryKey)) !== null && _popup$querySelectorA !== void 0 ? _popup$querySelectorA : []).map(function (item) {\n          var _item$dataset2;\n          return (_item$dataset2 = item.dataset) === null || _item$dataset2 === void 0 ? void 0 : _item$dataset2.key;\n        });\n      }\n    }\n\n    // 1. It is necessary to traverse the `keys` instead of `data` here to preserve the order of the array.\n    // 2. The values ​​in `keys` are all string, so the corresponding value of `data` should also be converted to string\n    return currentKeys.map(function (key) {\n      return find(data, function (i) {\n        return \"\" + i[valueKey] === key;\n      });\n    });\n  };\n\n  /**\n   * Get the index of the focus item.\n   */\n  var findFocusItemIndex = useEventCallback(function (callback) {\n    var items = getFocusableMenuItems();\n    for (var i = 0; i < items.length; i += 1) {\n      var _items$i;\n      if (shallowEqual(focusItemValue, (_items$i = items[i]) === null || _items$i === void 0 ? void 0 : _items$i[valueKey])) {\n        callback(items, i);\n        return;\n      }\n    }\n    callback(items, -1);\n  });\n  var scrollListItem = useEventCallback(function (direction, itemValue, willOverflow) {\n    var container = getScrollContainer();\n    var item = container === null || container === void 0 ? void 0 : container.querySelector(\"[data-key=\\\"\" + itemValue + \"\\\"]\");\n    if (willOverflow && container) {\n      var scrollHeight = container.scrollHeight,\n        clientHeight = container.clientHeight;\n      container.scrollTop = direction === 'top' ? scrollHeight - clientHeight : 0;\n      return;\n    }\n    if (item && container) {\n      if (!isVisible(item, container, direction)) {\n        var height = getHeight(item);\n        scrollTo(container, direction, height);\n      }\n    }\n  });\n  var focusNextMenuItem = useEventCallback(function (event) {\n    findFocusItemIndex(function (items, index) {\n      var willOverflow = index + 2 > items.length;\n      var nextIndex = willOverflow ? 0 : index + 1;\n      var focusItem = items[nextIndex];\n      if (!isUndefined(focusItem)) {\n        setFocusItemValue(focusItem[valueKey]);\n        focusCallback(focusItem[valueKey], event);\n        scrollListItem('bottom', focusItem[valueKey], willOverflow);\n      }\n    });\n  });\n  var focusPrevMenuItem = useEventCallback(function (event) {\n    findFocusItemIndex(function (items, index) {\n      var willOverflow = index === 0;\n      var nextIndex = willOverflow ? items.length - 1 : index - 1;\n      var focusItem = items[nextIndex];\n      if (!isUndefined(focusItem)) {\n        setFocusItemValue(focusItem[valueKey]);\n        focusCallback(focusItem[valueKey], event);\n        scrollListItem('top', focusItem[valueKey], willOverflow);\n      }\n    });\n  });\n  var getSubMenuKeys = function getSubMenuKeys(nextLayer) {\n    var menu = isFunction(target) ? target() : target;\n    var subMenu = menu === null || menu === void 0 ? void 0 : menu.querySelector(\"[data-layer=\\\"\" + nextLayer + \"\\\"]\");\n    if (subMenu) {\n      var _Array$from;\n      return (_Array$from = Array.from(subMenu.querySelectorAll(focusableQueryKey))) === null || _Array$from === void 0 ? void 0 : _Array$from.map(function (item) {\n        var _item$dataset3;\n        return (_item$dataset3 = item.dataset) === null || _item$dataset3 === void 0 ? void 0 : _item$dataset3.key;\n      });\n    }\n    return null;\n  };\n  var focusNextLevelMenu = useEventCallback(function (event) {\n    var nextLayer = layer + 1;\n    var nextKeys = getSubMenuKeys(nextLayer);\n    if (nextKeys) {\n      setKeys(nextKeys);\n      setLayer(nextLayer);\n      setFocusItemValue(nextKeys[0]);\n      focusCallback(nextKeys[0], event);\n    }\n  });\n  var focusPrevLevelMenu = useEventCallback(function (event) {\n    var nextLayer = layer - 1;\n    var nextKeys = getSubMenuKeys(nextLayer);\n    if (nextKeys) {\n      var _getParent;\n      setKeys(nextKeys);\n      setLayer(nextLayer);\n      var focusItem = findNodeOfTree(data, function (item) {\n        return item[valueKey] === focusItemValue;\n      });\n      var parentItemValue = (_getParent = getParent(focusItem)) === null || _getParent === void 0 ? void 0 : _getParent[valueKey];\n      if (parentItemValue) {\n        setFocusItemValue(parentItemValue);\n        focusCallback(parentItemValue, event);\n      }\n    }\n  });\n  var handleKeyDown = useEventCallback(function (event) {\n    var _onMenuKeyDown;\n    onMenuKeyDown(event, (_onMenuKeyDown = {\n      down: focusNextMenuItem,\n      up: focusPrevMenuItem\n    }, _onMenuKeyDown[rtl ? 'left' : 'right'] = focusNextLevelMenu, _onMenuKeyDown[rtl ? 'right' : 'left'] = focusPrevLevelMenu, _onMenuKeyDown));\n  });\n  return {\n    focusItemValue: focusItemValue,\n    setFocusItemValue: setFocusItemValue,\n    layer: layer,\n    setLayer: setLayer,\n    keys: keys,\n    setKeys: setKeys,\n    onKeyDown: handleKeyDown\n  };\n};\nfunction scrollTo(container, direction, step) {\n  var scrollTop = container.scrollTop;\n  container.scrollTop = direction === 'top' ? scrollTop - step : scrollTop + step;\n}\n\n/**\n * Checks if the element has a vertical scrollbar.\n */\nfunction hasVerticalScroll(element) {\n  var scrollHeight = element.scrollHeight,\n    clientHeight = element.clientHeight;\n  return scrollHeight > clientHeight;\n}\n\n/**\n * Checks if the element is within the visible area of the container\n */\nfunction isVisible(element, container, direction) {\n  if (!hasVerticalScroll(container)) {\n    return true;\n  }\n  var _element$getBoundingC = element.getBoundingClientRect(),\n    top = _element$getBoundingC.top,\n    bottom = _element$getBoundingC.bottom,\n    height = _element$getBoundingC.height;\n  var _container$getBoundin = container.getBoundingClientRect(),\n    containerTop = _container$getBoundin.top,\n    containerBottom = _container$getBoundin.bottom;\n  if (direction === 'top') {\n    return top + height > containerTop;\n  }\n  return bottom - height < containerBottom;\n}\nexport default useFocusItemValue;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}