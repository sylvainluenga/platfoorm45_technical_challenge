{"ast":null,"code":"'use client';\n\nimport { useEffect } from 'react';\nimport isFunction from 'lodash/isFunction';\nimport { useControlled, useEventCallback } from \"../../internals/hooks/index.js\";\nimport { createConcatChildrenFunction } from \"../../internals/Picker/index.js\";\nimport { getExpandItemValues, flattenTree } from \"../utils/index.js\";\nexport function getDefaultExpandItemValues(data, options) {\n  var valueKey = options.valueKey,\n    defaultExpandAll = options.defaultExpandAll,\n    childrenKey = options.childrenKey,\n    _options$defaultExpan = options.defaultExpandItemValues,\n    defaultExpandItemValues = _options$defaultExpan === void 0 ? [] : _options$defaultExpan;\n  if (defaultExpandAll) {\n    return flattenTree(data, function (item) {\n      return item[childrenKey] || [];\n    }).filter(function (item) {\n      return Array.isArray(item[childrenKey]) && item[childrenKey].length > 0;\n    }).map(function (item) {\n      return item[valueKey];\n    });\n  }\n  return defaultExpandItemValues;\n}\n/**\n * Custom hook for managing tree expansion state.\n */\nfunction useExpandTree(data, props) {\n  var defaultExpandAll = props.defaultExpandAll,\n    valueKey = props.valueKey,\n    childrenKey = props.childrenKey,\n    defaultExpandItemValues = props.defaultExpandItemValues,\n    controlledExpandItemValues = props.controlledExpandItemValues,\n    onExpand = props.onExpand,\n    getChildren = props.getChildren,\n    appendChild = props.appendChild;\n  var _useControlled = useControlled(controlledExpandItemValues, getDefaultExpandItemValues(data, {\n      defaultExpandAll: defaultExpandAll,\n      valueKey: valueKey,\n      childrenKey: childrenKey,\n      defaultExpandItemValues: defaultExpandItemValues\n    })),\n    expandItemValues = _useControlled[0],\n    setExpandItemValues = _useControlled[1];\n  useEffect(function () {\n    if (Array.isArray(controlledExpandItemValues)) {\n      setExpandItemValues(controlledExpandItemValues);\n    }\n  }, [controlledExpandItemValues, setExpandItemValues]);\n  var handleExpandTreeNode = useEventCallback(function (node, expanded) {\n    var nextExpandItemValues = getExpandItemValues({\n      node: node,\n      isExpand: !expanded,\n      expandItemValues: expandItemValues,\n      valueKey: valueKey\n    });\n    setExpandItemValues(nextExpandItemValues);\n    onExpand === null || onExpand === void 0 ? void 0 : onExpand(nextExpandItemValues, node, createConcatChildrenFunction(node, node[valueKey], {\n      valueKey: valueKey,\n      childrenKey: childrenKey\n    }));\n    if (isFunction(getChildren) && !node.expand && Array.isArray(node[childrenKey]) && node[childrenKey].length === 0) {\n      appendChild(node, getChildren);\n    }\n  });\n  return {\n    expandItemValues: expandItemValues,\n    handleExpandTreeNode: handleExpandTreeNode\n  };\n}\nexport default useExpandTree;","map":{"version":3,"names":["useEffect","isFunction","useControlled","useEventCallback","createConcatChildrenFunction","getExpandItemValues","flattenTree","getDefaultExpandItemValues","data","options","valueKey","defaultExpandAll","childrenKey","_options$defaultExpan","defaultExpandItemValues","item","filter","Array","isArray","length","map","useExpandTree","props","controlledExpandItemValues","onExpand","getChildren","appendChild","_useControlled","expandItemValues","setExpandItemValues","handleExpandTreeNode","node","expanded","nextExpandItemValues","isExpand","expand"],"sources":["C:/Users/lenovo/OneDrive/Documents/local project/platfoorm45_technical_challenge/node_modules/rsuite/esm/Tree/hooks/useExpandTree.js"],"sourcesContent":["'use client';\nimport { useEffect } from 'react';\nimport isFunction from 'lodash/isFunction';\nimport { useControlled, useEventCallback } from \"../../internals/hooks/index.js\";\nimport { createConcatChildrenFunction } from \"../../internals/Picker/index.js\";\nimport { getExpandItemValues, flattenTree } from \"../utils/index.js\";\nexport function getDefaultExpandItemValues(data, options) {\n  var valueKey = options.valueKey,\n    defaultExpandAll = options.defaultExpandAll,\n    childrenKey = options.childrenKey,\n    _options$defaultExpan = options.defaultExpandItemValues,\n    defaultExpandItemValues = _options$defaultExpan === void 0 ? [] : _options$defaultExpan;\n  if (defaultExpandAll) {\n    return flattenTree(data, function (item) {\n      return item[childrenKey] || [];\n    }).filter(function (item) {\n      return Array.isArray(item[childrenKey]) && item[childrenKey].length > 0;\n    }).map(function (item) {\n      return item[valueKey];\n    });\n  }\n  return defaultExpandItemValues;\n}\n/**\n * Custom hook for managing tree expansion state.\n */\nfunction useExpandTree(data, props) {\n  var defaultExpandAll = props.defaultExpandAll,\n    valueKey = props.valueKey,\n    childrenKey = props.childrenKey,\n    defaultExpandItemValues = props.defaultExpandItemValues,\n    controlledExpandItemValues = props.controlledExpandItemValues,\n    onExpand = props.onExpand,\n    getChildren = props.getChildren,\n    appendChild = props.appendChild;\n  var _useControlled = useControlled(controlledExpandItemValues, getDefaultExpandItemValues(data, {\n      defaultExpandAll: defaultExpandAll,\n      valueKey: valueKey,\n      childrenKey: childrenKey,\n      defaultExpandItemValues: defaultExpandItemValues\n    })),\n    expandItemValues = _useControlled[0],\n    setExpandItemValues = _useControlled[1];\n  useEffect(function () {\n    if (Array.isArray(controlledExpandItemValues)) {\n      setExpandItemValues(controlledExpandItemValues);\n    }\n  }, [controlledExpandItemValues, setExpandItemValues]);\n  var handleExpandTreeNode = useEventCallback(function (node, expanded) {\n    var nextExpandItemValues = getExpandItemValues({\n      node: node,\n      isExpand: !expanded,\n      expandItemValues: expandItemValues,\n      valueKey: valueKey\n    });\n    setExpandItemValues(nextExpandItemValues);\n    onExpand === null || onExpand === void 0 ? void 0 : onExpand(nextExpandItemValues, node, createConcatChildrenFunction(node, node[valueKey], {\n      valueKey: valueKey,\n      childrenKey: childrenKey\n    }));\n    if (isFunction(getChildren) && !node.expand && Array.isArray(node[childrenKey]) && node[childrenKey].length === 0) {\n      appendChild(node, getChildren);\n    }\n  });\n  return {\n    expandItemValues: expandItemValues,\n    handleExpandTreeNode: handleExpandTreeNode\n  };\n}\nexport default useExpandTree;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}