{"ast":null,"code":"'use client';\n\nimport { useCallback, useEffect, useRef, useState } from 'react';\nimport { useIsomorphicLayoutEffect } from \"../internals/hooks/index.js\";\n/**\n * A hook that loads an image and returns the status of the image.\n *\n * @example\n * ```jsx\n * const { loaded } = useImage({ src:'https://example.com/image.jpg' });\n *\n * return loaded ? <img src=\"https://example.com/image.jpg\" /> : <Placeholder />;\n * ```\n */\nvar useImage = function useImage(props) {\n  var src = props.src,\n    srcSet = props.srcSet,\n    sizes = props.sizes,\n    crossOrigin = props.crossOrigin,\n    onError = props.onError;\n  var _useState = useState('pending'),\n    status = _useState[0],\n    setStatus = _useState[1];\n  var imgRef = useRef(null);\n  var flush = function flush() {\n    if (imgRef.current) {\n      imgRef.current.onload = null;\n      imgRef.current.onerror = null;\n      imgRef.current = null;\n    }\n  };\n  var handleLoad = useCallback(function () {\n    setStatus('loaded');\n    flush();\n  }, []);\n  var handleError = useCallback(function (event) {\n    setStatus('error');\n    flush();\n    onError === null || onError === void 0 ? void 0 : onError(event);\n  }, [onError]);\n  useEffect(function () {\n    setStatus(src ? 'loading' : 'pending');\n  }, [src]);\n  var loadImge = useCallback(function () {\n    if (!src) {\n      return;\n    }\n    var img = new Image();\n    img.onload = handleLoad;\n    img.onerror = handleError;\n    if (src) img.src = src;\n    if (srcSet) img.srcset = srcSet;\n    if (sizes) img.sizes = sizes;\n    if (crossOrigin) img.crossOrigin = crossOrigin;\n    imgRef.current = img;\n  }, [crossOrigin, handleError, handleLoad, sizes, src, srcSet]);\n  useIsomorphicLayoutEffect(function () {\n    if (status === 'loading') {\n      loadImge();\n    }\n  }, [loadImge, status]);\n  useEffect(function () {\n    return flush;\n  }, []);\n  return {\n    loaded: status === 'loaded',\n    status: status\n  };\n};\nexport default useImage;","map":{"version":3,"names":["useCallback","useEffect","useRef","useState","useIsomorphicLayoutEffect","useImage","props","src","srcSet","sizes","crossOrigin","onError","_useState","status","setStatus","imgRef","flush","current","onload","onerror","handleLoad","handleError","event","loadImge","img","Image","srcset","loaded"],"sources":["C:/Users/lenovo/OneDrive/Documents/local project/platfoorm45_technical_challenge/node_modules/rsuite/esm/Avatar/useImage.js"],"sourcesContent":["'use client';\nimport { useCallback, useEffect, useRef, useState } from 'react';\nimport { useIsomorphicLayoutEffect } from \"../internals/hooks/index.js\";\n/**\n * A hook that loads an image and returns the status of the image.\n *\n * @example\n * ```jsx\n * const { loaded } = useImage({ src:'https://example.com/image.jpg' });\n *\n * return loaded ? <img src=\"https://example.com/image.jpg\" /> : <Placeholder />;\n * ```\n */\nvar useImage = function useImage(props) {\n  var src = props.src,\n    srcSet = props.srcSet,\n    sizes = props.sizes,\n    crossOrigin = props.crossOrigin,\n    onError = props.onError;\n  var _useState = useState('pending'),\n    status = _useState[0],\n    setStatus = _useState[1];\n  var imgRef = useRef(null);\n  var flush = function flush() {\n    if (imgRef.current) {\n      imgRef.current.onload = null;\n      imgRef.current.onerror = null;\n      imgRef.current = null;\n    }\n  };\n  var handleLoad = useCallback(function () {\n    setStatus('loaded');\n    flush();\n  }, []);\n  var handleError = useCallback(function (event) {\n    setStatus('error');\n    flush();\n    onError === null || onError === void 0 ? void 0 : onError(event);\n  }, [onError]);\n  useEffect(function () {\n    setStatus(src ? 'loading' : 'pending');\n  }, [src]);\n  var loadImge = useCallback(function () {\n    if (!src) {\n      return;\n    }\n    var img = new Image();\n    img.onload = handleLoad;\n    img.onerror = handleError;\n    if (src) img.src = src;\n    if (srcSet) img.srcset = srcSet;\n    if (sizes) img.sizes = sizes;\n    if (crossOrigin) img.crossOrigin = crossOrigin;\n    imgRef.current = img;\n  }, [crossOrigin, handleError, handleLoad, sizes, src, srcSet]);\n  useIsomorphicLayoutEffect(function () {\n    if (status === 'loading') {\n      loadImge();\n    }\n  }, [loadImge, status]);\n  useEffect(function () {\n    return flush;\n  }, []);\n  return {\n    loaded: status === 'loaded',\n    status: status\n  };\n};\nexport default useImage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}