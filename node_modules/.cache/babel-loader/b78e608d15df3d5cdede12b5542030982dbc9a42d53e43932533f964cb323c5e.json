{"ast":null,"code":"'use client';\n\nimport delay from 'lodash/delay';\nimport addMonths from 'date-fns/addMonths';\nimport addDays from 'date-fns/addDays';\nimport { useEventCallback, useCustom } from \"../../internals/hooks/index.js\";\nimport { getAriaLabel } from \"../../Calendar/utils.js\";\nimport { onMenuKeyDown } from \"../../internals/Picker/utils.js\";\nfunction useFocus(props) {\n  var target = props.target,\n    showMonth = props.showMonth,\n    id = props.id,\n    localeProp = props.locale;\n  var _useCustom = useCustom('DatePicker', localeProp),\n    locale = _useCustom.locale,\n    formatDate = _useCustom.formatDate;\n\n  /**\n   * Get the corresponding container based on date selection and month selection\n   */\n  var getOverlayContainer = function getOverlayContainer() {\n    return showMonth ? document.getElementById(id + \"-calendar-month-dropdown\") : document.getElementById(id + \"-calendar-table\");\n  };\n\n  /**\n   * Check whether the date is focusable\n   */\n  var checkFocusable = function checkFocusable(date) {\n    var formatStr = showMonth ? locale.formattedMonthPattern : locale.formattedDayPattern;\n    var ariaLabel = getAriaLabel(date, formatStr, formatDate);\n    var container = getOverlayContainer();\n    var dateElement = container === null || container === void 0 ? void 0 : container.querySelector(\"[aria-label=\\\"\" + ariaLabel + \"\\\"]\");\n    if ((dateElement === null || dateElement === void 0 ? void 0 : dateElement.getAttribute('aria-disabled')) === 'true') {\n      return false;\n    }\n    return true;\n  };\n\n  /**\n   * Focus on the currently selected date element\n   */\n  var focusSelectedDate = function focusSelectedDate() {\n    delay(function () {\n      var container = getOverlayContainer();\n      var selectedElement = container === null || container === void 0 ? void 0 : container.querySelector('[aria-selected=\"true\"]');\n      selectedElement === null || selectedElement === void 0 ? void 0 : selectedElement.focus();\n    }, 1);\n  };\n\n  /**\n   * Focus on the input element\n   */\n  var focusInput = useEventCallback(function () {\n    delay(function () {\n      var _target$current;\n      return (_target$current = target.current) === null || _target$current === void 0 ? void 0 : _target$current.focus();\n    }, 1);\n  });\n  var onKeyFocusEvent = useEventCallback(function (event, options) {\n    var date = options.date,\n      callback = options.callback;\n    var delta = 0;\n    var step = showMonth ? 6 : 7;\n    var changeDateFunc = showMonth ? addMonths : addDays;\n    onMenuKeyDown(event, {\n      down: function down() {\n        delta = step;\n      },\n      up: function up() {\n        delta = -step;\n      },\n      right: function right() {\n        delta = 1;\n      },\n      left: function left() {\n        delta = -1;\n      }\n    });\n    var nextDate = changeDateFunc(date, delta);\n    if (checkFocusable(nextDate)) {\n      callback(nextDate);\n      focusSelectedDate();\n    }\n  });\n  return {\n    focusInput: focusInput,\n    focusSelectedDate: focusSelectedDate,\n    onKeyFocusEvent: onKeyFocusEvent\n  };\n}\nexport default useFocus;","map":{"version":3,"names":["delay","addMonths","addDays","useEventCallback","useCustom","getAriaLabel","onMenuKeyDown","useFocus","props","target","showMonth","id","localeProp","locale","_useCustom","formatDate","getOverlayContainer","document","getElementById","checkFocusable","date","formatStr","formattedMonthPattern","formattedDayPattern","ariaLabel","container","dateElement","querySelector","getAttribute","focusSelectedDate","selectedElement","focus","focusInput","_target$current","current","onKeyFocusEvent","event","options","callback","delta","step","changeDateFunc","down","up","right","left","nextDate"],"sources":["C:/Users/lenovo/OneDrive/Documents/local project/platfoorm45_technical_challenge/node_modules/rsuite/esm/DatePicker/hooks/useFocus.js"],"sourcesContent":["'use client';\nimport delay from 'lodash/delay';\nimport addMonths from 'date-fns/addMonths';\nimport addDays from 'date-fns/addDays';\nimport { useEventCallback, useCustom } from \"../../internals/hooks/index.js\";\nimport { getAriaLabel } from \"../../Calendar/utils.js\";\nimport { onMenuKeyDown } from \"../../internals/Picker/utils.js\";\nfunction useFocus(props) {\n  var target = props.target,\n    showMonth = props.showMonth,\n    id = props.id,\n    localeProp = props.locale;\n  var _useCustom = useCustom('DatePicker', localeProp),\n    locale = _useCustom.locale,\n    formatDate = _useCustom.formatDate;\n\n  /**\n   * Get the corresponding container based on date selection and month selection\n   */\n  var getOverlayContainer = function getOverlayContainer() {\n    return showMonth ? document.getElementById(id + \"-calendar-month-dropdown\") : document.getElementById(id + \"-calendar-table\");\n  };\n\n  /**\n   * Check whether the date is focusable\n   */\n  var checkFocusable = function checkFocusable(date) {\n    var formatStr = showMonth ? locale.formattedMonthPattern : locale.formattedDayPattern;\n    var ariaLabel = getAriaLabel(date, formatStr, formatDate);\n    var container = getOverlayContainer();\n    var dateElement = container === null || container === void 0 ? void 0 : container.querySelector(\"[aria-label=\\\"\" + ariaLabel + \"\\\"]\");\n    if ((dateElement === null || dateElement === void 0 ? void 0 : dateElement.getAttribute('aria-disabled')) === 'true') {\n      return false;\n    }\n    return true;\n  };\n\n  /**\n   * Focus on the currently selected date element\n   */\n  var focusSelectedDate = function focusSelectedDate() {\n    delay(function () {\n      var container = getOverlayContainer();\n      var selectedElement = container === null || container === void 0 ? void 0 : container.querySelector('[aria-selected=\"true\"]');\n      selectedElement === null || selectedElement === void 0 ? void 0 : selectedElement.focus();\n    }, 1);\n  };\n\n  /**\n   * Focus on the input element\n   */\n  var focusInput = useEventCallback(function () {\n    delay(function () {\n      var _target$current;\n      return (_target$current = target.current) === null || _target$current === void 0 ? void 0 : _target$current.focus();\n    }, 1);\n  });\n  var onKeyFocusEvent = useEventCallback(function (event, options) {\n    var date = options.date,\n      callback = options.callback;\n    var delta = 0;\n    var step = showMonth ? 6 : 7;\n    var changeDateFunc = showMonth ? addMonths : addDays;\n    onMenuKeyDown(event, {\n      down: function down() {\n        delta = step;\n      },\n      up: function up() {\n        delta = -step;\n      },\n      right: function right() {\n        delta = 1;\n      },\n      left: function left() {\n        delta = -1;\n      }\n    });\n    var nextDate = changeDateFunc(date, delta);\n    if (checkFocusable(nextDate)) {\n      callback(nextDate);\n      focusSelectedDate();\n    }\n  });\n  return {\n    focusInput: focusInput,\n    focusSelectedDate: focusSelectedDate,\n    onKeyFocusEvent: onKeyFocusEvent\n  };\n}\nexport default useFocus;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}