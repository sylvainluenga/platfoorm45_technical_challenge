{"ast":null,"code":"'use client';\n\nimport { useState, useCallback, useEffect } from 'react';\nimport { shallowEqual } from \"../../internals/utils/index.js\";\nimport { findNodeOfTree } from \"../../internals/Tree/utils/index.js\";\n/**\n * Custom hook that provides functionality for managing a tree structure with children.\n */\nexport default function useTreeWithChildren(data, options) {\n  var valueKey = options.valueKey,\n    childrenKey = options.childrenKey;\n  var _useState = useState([]),\n    loadingNodeValues = _useState[0],\n    setLoadingNodeValues = _useState[1];\n  var _useState2 = useState(data),\n    treeData = _useState2[0],\n    setTreeData = _useState2[1];\n  useEffect(function () {\n    setTreeData(data);\n  }, [data]);\n  var concatChildren = useCallback(function (treeNode, children) {\n    var value = treeNode[valueKey];\n    treeNode = findNodeOfTree(data, function (item) {\n      return value === item[valueKey];\n    });\n    treeNode[childrenKey] = children;\n    var newData = data.concat([]);\n    setTreeData(newData);\n    return newData;\n  }, [data, valueKey, childrenKey]);\n  var appendChild = useCallback(function (node, getChildren) {\n    setLoadingNodeValues(function (prev) {\n      return prev.concat(node[valueKey]);\n    });\n    var children = getChildren(node);\n    if (children instanceof Promise) {\n      children.then(function (res) {\n        var newData = concatChildren(node, res);\n        setTreeData(newData);\n        setLoadingNodeValues(function (prev) {\n          return prev.filter(function (item) {\n            return !shallowEqual(item, node[valueKey]);\n          });\n        });\n      });\n    } else {\n      setTreeData(concatChildren(node, children));\n      setLoadingNodeValues(function (prev) {\n        return prev.filter(function (item) {\n          return !shallowEqual(item, node[valueKey]);\n        });\n      });\n    }\n  }, [concatChildren, valueKey]);\n  return {\n    treeData: treeData,\n    loadingNodeValues: loadingNodeValues,\n    appendChild: appendChild\n  };\n}","map":{"version":3,"names":["useState","useCallback","useEffect","shallowEqual","findNodeOfTree","useTreeWithChildren","data","options","valueKey","childrenKey","_useState","loadingNodeValues","setLoadingNodeValues","_useState2","treeData","setTreeData","concatChildren","treeNode","children","value","item","newData","concat","appendChild","node","getChildren","prev","Promise","then","res","filter"],"sources":["C:/Users/lenovo/OneDrive/Documents/local project/platfoorm45_technical_challenge/node_modules/rsuite/esm/Tree/hooks/useTreeWithChildren.js"],"sourcesContent":["'use client';\nimport { useState, useCallback, useEffect } from 'react';\nimport { shallowEqual } from \"../../internals/utils/index.js\";\nimport { findNodeOfTree } from \"../../internals/Tree/utils/index.js\";\n/**\n * Custom hook that provides functionality for managing a tree structure with children.\n */\nexport default function useTreeWithChildren(data, options) {\n  var valueKey = options.valueKey,\n    childrenKey = options.childrenKey;\n  var _useState = useState([]),\n    loadingNodeValues = _useState[0],\n    setLoadingNodeValues = _useState[1];\n  var _useState2 = useState(data),\n    treeData = _useState2[0],\n    setTreeData = _useState2[1];\n  useEffect(function () {\n    setTreeData(data);\n  }, [data]);\n  var concatChildren = useCallback(function (treeNode, children) {\n    var value = treeNode[valueKey];\n    treeNode = findNodeOfTree(data, function (item) {\n      return value === item[valueKey];\n    });\n    treeNode[childrenKey] = children;\n    var newData = data.concat([]);\n    setTreeData(newData);\n    return newData;\n  }, [data, valueKey, childrenKey]);\n  var appendChild = useCallback(function (node, getChildren) {\n    setLoadingNodeValues(function (prev) {\n      return prev.concat(node[valueKey]);\n    });\n    var children = getChildren(node);\n    if (children instanceof Promise) {\n      children.then(function (res) {\n        var newData = concatChildren(node, res);\n        setTreeData(newData);\n        setLoadingNodeValues(function (prev) {\n          return prev.filter(function (item) {\n            return !shallowEqual(item, node[valueKey]);\n          });\n        });\n      });\n    } else {\n      setTreeData(concatChildren(node, children));\n      setLoadingNodeValues(function (prev) {\n        return prev.filter(function (item) {\n          return !shallowEqual(item, node[valueKey]);\n        });\n      });\n    }\n  }, [concatChildren, valueKey]);\n  return {\n    treeData: treeData,\n    loadingNodeValues: loadingNodeValues,\n    appendChild: appendChild\n  };\n}"],"mappings":"AAAA,YAAY;;AACZ,SAASA,QAAQ,EAAEC,WAAW,EAAEC,SAAS,QAAQ,OAAO;AACxD,SAASC,YAAY,QAAQ,gCAAgC;AAC7D,SAASC,cAAc,QAAQ,qCAAqC;AACpE;AACA;AACA;AACA,eAAe,SAASC,mBAAmBA,CAACC,IAAI,EAAEC,OAAO,EAAE;EACzD,IAAIC,QAAQ,GAAGD,OAAO,CAACC,QAAQ;IAC7BC,WAAW,GAAGF,OAAO,CAACE,WAAW;EACnC,IAAIC,SAAS,GAAGV,QAAQ,CAAC,EAAE,CAAC;IAC1BW,iBAAiB,GAAGD,SAAS,CAAC,CAAC,CAAC;IAChCE,oBAAoB,GAAGF,SAAS,CAAC,CAAC,CAAC;EACrC,IAAIG,UAAU,GAAGb,QAAQ,CAACM,IAAI,CAAC;IAC7BQ,QAAQ,GAAGD,UAAU,CAAC,CAAC,CAAC;IACxBE,WAAW,GAAGF,UAAU,CAAC,CAAC,CAAC;EAC7BX,SAAS,CAAC,YAAY;IACpBa,WAAW,CAACT,IAAI,CAAC;EACnB,CAAC,EAAE,CAACA,IAAI,CAAC,CAAC;EACV,IAAIU,cAAc,GAAGf,WAAW,CAAC,UAAUgB,QAAQ,EAAEC,QAAQ,EAAE;IAC7D,IAAIC,KAAK,GAAGF,QAAQ,CAACT,QAAQ,CAAC;IAC9BS,QAAQ,GAAGb,cAAc,CAACE,IAAI,EAAE,UAAUc,IAAI,EAAE;MAC9C,OAAOD,KAAK,KAAKC,IAAI,CAACZ,QAAQ,CAAC;IACjC,CAAC,CAAC;IACFS,QAAQ,CAACR,WAAW,CAAC,GAAGS,QAAQ;IAChC,IAAIG,OAAO,GAAGf,IAAI,CAACgB,MAAM,CAAC,EAAE,CAAC;IAC7BP,WAAW,CAACM,OAAO,CAAC;IACpB,OAAOA,OAAO;EAChB,CAAC,EAAE,CAACf,IAAI,EAAEE,QAAQ,EAAEC,WAAW,CAAC,CAAC;EACjC,IAAIc,WAAW,GAAGtB,WAAW,CAAC,UAAUuB,IAAI,EAAEC,WAAW,EAAE;IACzDb,oBAAoB,CAAC,UAAUc,IAAI,EAAE;MACnC,OAAOA,IAAI,CAACJ,MAAM,CAACE,IAAI,CAAChB,QAAQ,CAAC,CAAC;IACpC,CAAC,CAAC;IACF,IAAIU,QAAQ,GAAGO,WAAW,CAACD,IAAI,CAAC;IAChC,IAAIN,QAAQ,YAAYS,OAAO,EAAE;MAC/BT,QAAQ,CAACU,IAAI,CAAC,UAAUC,GAAG,EAAE;QAC3B,IAAIR,OAAO,GAAGL,cAAc,CAACQ,IAAI,EAAEK,GAAG,CAAC;QACvCd,WAAW,CAACM,OAAO,CAAC;QACpBT,oBAAoB,CAAC,UAAUc,IAAI,EAAE;UACnC,OAAOA,IAAI,CAACI,MAAM,CAAC,UAAUV,IAAI,EAAE;YACjC,OAAO,CAACjB,YAAY,CAACiB,IAAI,EAAEI,IAAI,CAAChB,QAAQ,CAAC,CAAC;UAC5C,CAAC,CAAC;QACJ,CAAC,CAAC;MACJ,CAAC,CAAC;IACJ,CAAC,MAAM;MACLO,WAAW,CAACC,cAAc,CAACQ,IAAI,EAAEN,QAAQ,CAAC,CAAC;MAC3CN,oBAAoB,CAAC,UAAUc,IAAI,EAAE;QACnC,OAAOA,IAAI,CAACI,MAAM,CAAC,UAAUV,IAAI,EAAE;UACjC,OAAO,CAACjB,YAAY,CAACiB,IAAI,EAAEI,IAAI,CAAChB,QAAQ,CAAC,CAAC;QAC5C,CAAC,CAAC;MACJ,CAAC,CAAC;IACJ;EACF,CAAC,EAAE,CAACQ,cAAc,EAAER,QAAQ,CAAC,CAAC;EAC9B,OAAO;IACLM,QAAQ,EAAEA,QAAQ;IAClBH,iBAAiB,EAAEA,iBAAiB;IACpCY,WAAW,EAAEA;EACf,CAAC;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}