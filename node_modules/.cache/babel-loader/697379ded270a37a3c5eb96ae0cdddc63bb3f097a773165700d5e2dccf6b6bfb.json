{"ast":null,"code":"'use client';\n\nimport { useState } from 'react';\nimport useUpdateEffect from './useUpdateEffect';\nimport flattenData from './flattenData';\nimport findAllParents from './findAllParents';\nimport shouldShowRowByExpanded from './shouldShowRowByExpanded';\nimport { EXPANDED_KEY, TREE_DEPTH } from '../constants';\n/**\n * Filter those expanded nodes.\n * @param data\n * @param expandedRowKeys\n * @param rowKey\n * @returns\n */\nvar filterTreeData = function filterTreeData(data, expandedRowKeys, rowKey) {\n  return flattenData(data).filter(function (rowData) {\n    if (rowKey) {\n      var parents = findAllParents(rowData, rowKey);\n      var expanded = shouldShowRowByExpanded(expandedRowKeys, parents);\n\n      // FIXME This function is supposed to be pure.\n      //       Don't mutate rowData in-place!\n      rowData[EXPANDED_KEY] = expanded;\n      rowData[TREE_DEPTH] = parents.length;\n      return expanded;\n    }\n  });\n};\nfunction useTableData(props) {\n  var data = props.data,\n    isTree = props.isTree,\n    expandedRowKeys = props.expandedRowKeys,\n    rowKey = props.rowKey;\n  var _useState = useState(function () {\n      return isTree ? filterTreeData(data, expandedRowKeys, rowKey) : data;\n    }),\n    tableData = _useState[0],\n    setData = _useState[1];\n  useUpdateEffect(function () {\n    setData(isTree ? filterTreeData(data, expandedRowKeys, rowKey) : data);\n  }, [data, expandedRowKeys, rowKey, isTree]);\n  return tableData;\n}\nexport default useTableData;","map":{"version":3,"names":["useState","useUpdateEffect","flattenData","findAllParents","shouldShowRowByExpanded","EXPANDED_KEY","TREE_DEPTH","filterTreeData","data","expandedRowKeys","rowKey","filter","rowData","parents","expanded","length","useTableData","props","isTree","_useState","tableData","setData"],"sources":["C:/Users/lenovo/OneDrive/Documents/local project/platfoorm45_technical_challenge/node_modules/rsuite-table/es/utils/useTableData.js"],"sourcesContent":["'use client';\nimport { useState } from 'react';\nimport useUpdateEffect from './useUpdateEffect';\nimport flattenData from './flattenData';\nimport findAllParents from './findAllParents';\nimport shouldShowRowByExpanded from './shouldShowRowByExpanded';\nimport { EXPANDED_KEY, TREE_DEPTH } from '../constants';\n/**\n * Filter those expanded nodes.\n * @param data\n * @param expandedRowKeys\n * @param rowKey\n * @returns\n */\nvar filterTreeData = function filterTreeData(data, expandedRowKeys, rowKey) {\n  return flattenData(data).filter(function (rowData) {\n    if (rowKey) {\n      var parents = findAllParents(rowData, rowKey);\n      var expanded = shouldShowRowByExpanded(expandedRowKeys, parents);\n\n      // FIXME This function is supposed to be pure.\n      //       Don't mutate rowData in-place!\n      rowData[EXPANDED_KEY] = expanded;\n      rowData[TREE_DEPTH] = parents.length;\n      return expanded;\n    }\n  });\n};\nfunction useTableData(props) {\n  var data = props.data,\n    isTree = props.isTree,\n    expandedRowKeys = props.expandedRowKeys,\n    rowKey = props.rowKey;\n  var _useState = useState(function () {\n      return isTree ? filterTreeData(data, expandedRowKeys, rowKey) : data;\n    }),\n    tableData = _useState[0],\n    setData = _useState[1];\n  useUpdateEffect(function () {\n    setData(isTree ? filterTreeData(data, expandedRowKeys, rowKey) : data);\n  }, [data, expandedRowKeys, rowKey, isTree]);\n  return tableData;\n}\nexport default useTableData;"],"mappings":"AAAA,YAAY;;AACZ,SAASA,QAAQ,QAAQ,OAAO;AAChC,OAAOC,eAAe,MAAM,mBAAmB;AAC/C,OAAOC,WAAW,MAAM,eAAe;AACvC,OAAOC,cAAc,MAAM,kBAAkB;AAC7C,OAAOC,uBAAuB,MAAM,2BAA2B;AAC/D,SAASC,YAAY,EAAEC,UAAU,QAAQ,cAAc;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAIC,cAAc,GAAG,SAASA,cAAcA,CAACC,IAAI,EAAEC,eAAe,EAAEC,MAAM,EAAE;EAC1E,OAAOR,WAAW,CAACM,IAAI,CAAC,CAACG,MAAM,CAAC,UAAUC,OAAO,EAAE;IACjD,IAAIF,MAAM,EAAE;MACV,IAAIG,OAAO,GAAGV,cAAc,CAACS,OAAO,EAAEF,MAAM,CAAC;MAC7C,IAAII,QAAQ,GAAGV,uBAAuB,CAACK,eAAe,EAAEI,OAAO,CAAC;;MAEhE;MACA;MACAD,OAAO,CAACP,YAAY,CAAC,GAAGS,QAAQ;MAChCF,OAAO,CAACN,UAAU,CAAC,GAAGO,OAAO,CAACE,MAAM;MACpC,OAAOD,QAAQ;IACjB;EACF,CAAC,CAAC;AACJ,CAAC;AACD,SAASE,YAAYA,CAACC,KAAK,EAAE;EAC3B,IAAIT,IAAI,GAAGS,KAAK,CAACT,IAAI;IACnBU,MAAM,GAAGD,KAAK,CAACC,MAAM;IACrBT,eAAe,GAAGQ,KAAK,CAACR,eAAe;IACvCC,MAAM,GAAGO,KAAK,CAACP,MAAM;EACvB,IAAIS,SAAS,GAAGnB,QAAQ,CAAC,YAAY;MACjC,OAAOkB,MAAM,GAAGX,cAAc,CAACC,IAAI,EAAEC,eAAe,EAAEC,MAAM,CAAC,GAAGF,IAAI;IACtE,CAAC,CAAC;IACFY,SAAS,GAAGD,SAAS,CAAC,CAAC,CAAC;IACxBE,OAAO,GAAGF,SAAS,CAAC,CAAC,CAAC;EACxBlB,eAAe,CAAC,YAAY;IAC1BoB,OAAO,CAACH,MAAM,GAAGX,cAAc,CAACC,IAAI,EAAEC,eAAe,EAAEC,MAAM,CAAC,GAAGF,IAAI,CAAC;EACxE,CAAC,EAAE,CAACA,IAAI,EAAEC,eAAe,EAAEC,MAAM,EAAEQ,MAAM,CAAC,CAAC;EAC3C,OAAOE,SAAS;AAClB;AACA,eAAeJ,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}