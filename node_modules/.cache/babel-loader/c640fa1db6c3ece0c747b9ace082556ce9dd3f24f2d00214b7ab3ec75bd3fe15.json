{"ast":null,"code":"'use client';\n\nimport { useState } from 'react';\nimport { useSet } from 'react-use-set';\nimport { useEventCallback, useIsMounted } from \"../../internals/hooks/index.js\";\nimport { shallowEqual } from \"../../internals/utils/index.js\";\n/**\n * Hook for handling the state after the option is selected\n */\nvar useSelect = function useSelect(props) {\n  var value = props.value,\n    onSelect = props.onSelect,\n    getChildren = props.getChildren,\n    valueKey = props.valueKey,\n    onChange = props.onChange,\n    childrenKey = props.childrenKey,\n    selectedItem = props.selectedItem,\n    childrenMap = props.childrenMap;\n\n  // The item that focus is on\n  var _useState = useState(selectedItem),\n    activeItem = _useState[0],\n    setActiveItem = _useState[1];\n  var isMounted = useIsMounted();\n  var loadingItemsSet = useSet();\n  var handleSelect = useEventCallback(function (node, event) {\n    var _itemData$childrenKey;\n    var itemData = node.itemData,\n      isLeafNode = node.isLeafNode;\n    setActiveItem(itemData);\n\n    // Lazy load node's children\n    if (typeof getChildren === 'function' && ((_itemData$childrenKey = itemData[childrenKey]) === null || _itemData$childrenKey === void 0 ? void 0 : _itemData$childrenKey.length) === 0 && !childrenMap.has(itemData)) {\n      loadingItemsSet.add(itemData);\n      var children = getChildren(itemData);\n      if (children instanceof Promise) {\n        children.then(function (data) {\n          if (isMounted()) {\n            loadingItemsSet.delete(itemData);\n            childrenMap.set(itemData, data);\n          }\n        });\n      } else {\n        loadingItemsSet.delete(itemData);\n        childrenMap.set(itemData, children);\n      }\n    }\n    if (isLeafNode) {\n      var nextValue = itemData[valueKey];\n      if (!shallowEqual(value, nextValue)) {\n        onChange === null || onChange === void 0 ? void 0 : onChange(nextValue, event);\n      }\n    }\n    onSelect === null || onSelect === void 0 ? void 0 : onSelect(node, event);\n  });\n  return {\n    loadingItemsSet: loadingItemsSet,\n    activeItem: activeItem,\n    setActiveItem: setActiveItem,\n    handleSelect: handleSelect\n  };\n};\nexport default useSelect;","map":{"version":3,"names":["useState","useSet","useEventCallback","useIsMounted","shallowEqual","useSelect","props","value","onSelect","getChildren","valueKey","onChange","childrenKey","selectedItem","childrenMap","_useState","activeItem","setActiveItem","isMounted","loadingItemsSet","handleSelect","node","event","_itemData$childrenKey","itemData","isLeafNode","length","has","add","children","Promise","then","data","delete","set","nextValue"],"sources":["C:/Users/lenovo/OneDrive/Documents/local project/platfoorm45_technical_challenge/node_modules/rsuite/esm/CascadeTree/hooks/useSelect.js"],"sourcesContent":["'use client';\nimport { useState } from 'react';\nimport { useSet } from 'react-use-set';\nimport { useEventCallback, useIsMounted } from \"../../internals/hooks/index.js\";\nimport { shallowEqual } from \"../../internals/utils/index.js\";\n/**\n * Hook for handling the state after the option is selected\n */\nvar useSelect = function useSelect(props) {\n  var value = props.value,\n    onSelect = props.onSelect,\n    getChildren = props.getChildren,\n    valueKey = props.valueKey,\n    onChange = props.onChange,\n    childrenKey = props.childrenKey,\n    selectedItem = props.selectedItem,\n    childrenMap = props.childrenMap;\n\n  // The item that focus is on\n  var _useState = useState(selectedItem),\n    activeItem = _useState[0],\n    setActiveItem = _useState[1];\n  var isMounted = useIsMounted();\n  var loadingItemsSet = useSet();\n  var handleSelect = useEventCallback(function (node, event) {\n    var _itemData$childrenKey;\n    var itemData = node.itemData,\n      isLeafNode = node.isLeafNode;\n    setActiveItem(itemData);\n\n    // Lazy load node's children\n    if (typeof getChildren === 'function' && ((_itemData$childrenKey = itemData[childrenKey]) === null || _itemData$childrenKey === void 0 ? void 0 : _itemData$childrenKey.length) === 0 && !childrenMap.has(itemData)) {\n      loadingItemsSet.add(itemData);\n      var children = getChildren(itemData);\n      if (children instanceof Promise) {\n        children.then(function (data) {\n          if (isMounted()) {\n            loadingItemsSet.delete(itemData);\n            childrenMap.set(itemData, data);\n          }\n        });\n      } else {\n        loadingItemsSet.delete(itemData);\n        childrenMap.set(itemData, children);\n      }\n    }\n    if (isLeafNode) {\n      var nextValue = itemData[valueKey];\n      if (!shallowEqual(value, nextValue)) {\n        onChange === null || onChange === void 0 ? void 0 : onChange(nextValue, event);\n      }\n    }\n    onSelect === null || onSelect === void 0 ? void 0 : onSelect(node, event);\n  });\n  return {\n    loadingItemsSet: loadingItemsSet,\n    activeItem: activeItem,\n    setActiveItem: setActiveItem,\n    handleSelect: handleSelect\n  };\n};\nexport default useSelect;"],"mappings":"AAAA,YAAY;;AACZ,SAASA,QAAQ,QAAQ,OAAO;AAChC,SAASC,MAAM,QAAQ,eAAe;AACtC,SAASC,gBAAgB,EAAEC,YAAY,QAAQ,gCAAgC;AAC/E,SAASC,YAAY,QAAQ,gCAAgC;AAC7D;AACA;AACA;AACA,IAAIC,SAAS,GAAG,SAASA,SAASA,CAACC,KAAK,EAAE;EACxC,IAAIC,KAAK,GAAGD,KAAK,CAACC,KAAK;IACrBC,QAAQ,GAAGF,KAAK,CAACE,QAAQ;IACzBC,WAAW,GAAGH,KAAK,CAACG,WAAW;IAC/BC,QAAQ,GAAGJ,KAAK,CAACI,QAAQ;IACzBC,QAAQ,GAAGL,KAAK,CAACK,QAAQ;IACzBC,WAAW,GAAGN,KAAK,CAACM,WAAW;IAC/BC,YAAY,GAAGP,KAAK,CAACO,YAAY;IACjCC,WAAW,GAAGR,KAAK,CAACQ,WAAW;;EAEjC;EACA,IAAIC,SAAS,GAAGf,QAAQ,CAACa,YAAY,CAAC;IACpCG,UAAU,GAAGD,SAAS,CAAC,CAAC,CAAC;IACzBE,aAAa,GAAGF,SAAS,CAAC,CAAC,CAAC;EAC9B,IAAIG,SAAS,GAAGf,YAAY,CAAC,CAAC;EAC9B,IAAIgB,eAAe,GAAGlB,MAAM,CAAC,CAAC;EAC9B,IAAImB,YAAY,GAAGlB,gBAAgB,CAAC,UAAUmB,IAAI,EAAEC,KAAK,EAAE;IACzD,IAAIC,qBAAqB;IACzB,IAAIC,QAAQ,GAAGH,IAAI,CAACG,QAAQ;MAC1BC,UAAU,GAAGJ,IAAI,CAACI,UAAU;IAC9BR,aAAa,CAACO,QAAQ,CAAC;;IAEvB;IACA,IAAI,OAAOf,WAAW,KAAK,UAAU,IAAI,CAAC,CAACc,qBAAqB,GAAGC,QAAQ,CAACZ,WAAW,CAAC,MAAM,IAAI,IAAIW,qBAAqB,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,qBAAqB,CAACG,MAAM,MAAM,CAAC,IAAI,CAACZ,WAAW,CAACa,GAAG,CAACH,QAAQ,CAAC,EAAE;MACnNL,eAAe,CAACS,GAAG,CAACJ,QAAQ,CAAC;MAC7B,IAAIK,QAAQ,GAAGpB,WAAW,CAACe,QAAQ,CAAC;MACpC,IAAIK,QAAQ,YAAYC,OAAO,EAAE;QAC/BD,QAAQ,CAACE,IAAI,CAAC,UAAUC,IAAI,EAAE;UAC5B,IAAId,SAAS,CAAC,CAAC,EAAE;YACfC,eAAe,CAACc,MAAM,CAACT,QAAQ,CAAC;YAChCV,WAAW,CAACoB,GAAG,CAACV,QAAQ,EAAEQ,IAAI,CAAC;UACjC;QACF,CAAC,CAAC;MACJ,CAAC,MAAM;QACLb,eAAe,CAACc,MAAM,CAACT,QAAQ,CAAC;QAChCV,WAAW,CAACoB,GAAG,CAACV,QAAQ,EAAEK,QAAQ,CAAC;MACrC;IACF;IACA,IAAIJ,UAAU,EAAE;MACd,IAAIU,SAAS,GAAGX,QAAQ,CAACd,QAAQ,CAAC;MAClC,IAAI,CAACN,YAAY,CAACG,KAAK,EAAE4B,SAAS,CAAC,EAAE;QACnCxB,QAAQ,KAAK,IAAI,IAAIA,QAAQ,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,QAAQ,CAACwB,SAAS,EAAEb,KAAK,CAAC;MAChF;IACF;IACAd,QAAQ,KAAK,IAAI,IAAIA,QAAQ,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,QAAQ,CAACa,IAAI,EAAEC,KAAK,CAAC;EAC3E,CAAC,CAAC;EACF,OAAO;IACLH,eAAe,EAAEA,eAAe;IAChCH,UAAU,EAAEA,UAAU;IACtBC,aAAa,EAAEA,aAAa;IAC5BG,YAAY,EAAEA;EAChB,CAAC;AACH,CAAC;AACD,eAAef,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}