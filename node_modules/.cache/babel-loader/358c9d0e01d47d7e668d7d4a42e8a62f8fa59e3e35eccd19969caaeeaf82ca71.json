{"ast":null,"code":"'use client';\n\nimport { useRef, useCallback, useEffect } from 'react';\nimport getHeight from 'dom-lib/getHeight';\nimport addStyle from 'dom-lib/addStyle';\nimport removeStyle from 'dom-lib/removeStyle';\nimport on from 'dom-lib/on';\nimport toggleClass from './toggleClass';\nimport isNumberOrTrue from './isNumberOrTrue';\nimport useUpdateEffect from './useUpdateEffect';\nvar useAffix = function useAffix(props) {\n  var getTableHeight = props.getTableHeight,\n    contentHeight = props.contentHeight,\n    affixHorizontalScrollbar = props.affixHorizontalScrollbar,\n    affixHeader = props.affixHeader,\n    tableOffset = props.tableOffset,\n    headerOffset = props.headerOffset,\n    headerHeight = props.headerHeight,\n    scrollbarXRef = props.scrollbarXRef,\n    affixHeaderWrapperRef = props.affixHeaderWrapperRef;\n  var scrollListener = useRef();\n  var handleAffixHorizontalScrollbar = useCallback(function () {\n    var _tableOffset$current, _scrollbarXRef$curren;\n    var scrollY = window.scrollY || window.pageYOffset;\n    var windowHeight = getHeight(window);\n    var height = getTableHeight();\n    var bottom = typeof affixHorizontalScrollbar === 'number' ? affixHorizontalScrollbar : 0;\n    var offsetTop = ((_tableOffset$current = tableOffset.current) === null || _tableOffset$current === void 0 ? void 0 : _tableOffset$current.top) || 0;\n    var fixedScrollbar = scrollY + windowHeight < height + (offsetTop + bottom) && scrollY + windowHeight - headerHeight > offsetTop + bottom;\n    if (scrollbarXRef !== null && scrollbarXRef !== void 0 && (_scrollbarXRef$curren = scrollbarXRef.current) !== null && _scrollbarXRef$curren !== void 0 && _scrollbarXRef$curren.root) {\n      toggleClass(scrollbarXRef.current.root, 'fixed', fixedScrollbar);\n      if (fixedScrollbar) {\n        addStyle(scrollbarXRef.current.root, 'bottom', bottom + \"px\");\n      } else {\n        removeStyle(scrollbarXRef.current.root, 'bottom');\n      }\n    }\n  }, [affixHorizontalScrollbar, headerHeight, scrollbarXRef, getTableHeight, tableOffset]);\n  var handleAffixTableHeader = useCallback(function () {\n    var _headerOffset$current;\n    var top = typeof affixHeader === 'number' ? affixHeader : 0;\n    var scrollY = window.scrollY || window.pageYOffset;\n    var offsetTop = ((_headerOffset$current = headerOffset.current) === null || _headerOffset$current === void 0 ? void 0 : _headerOffset$current.top) || 0;\n    var fixedHeader = scrollY - (offsetTop - top) >= 0 && scrollY < offsetTop - top + contentHeight.current;\n    if (affixHeaderWrapperRef.current) {\n      toggleClass(affixHeaderWrapperRef.current, 'fixed', fixedHeader);\n    }\n  }, [affixHeader, affixHeaderWrapperRef, contentHeight, headerOffset]);\n  var handleWindowScroll = useCallback(function () {\n    if (isNumberOrTrue(affixHeader)) {\n      handleAffixTableHeader();\n    }\n    if (isNumberOrTrue(affixHorizontalScrollbar)) {\n      handleAffixHorizontalScrollbar();\n    }\n  }, [affixHeader, affixHorizontalScrollbar, handleAffixTableHeader, handleAffixHorizontalScrollbar]);\n\n  /**\n   * Update the position of the fixed element after the height of the table changes.\n   * fix: https://github.com/rsuite/rsuite/issues/1716\n   */\n  useUpdateEffect(handleWindowScroll, [getTableHeight]);\n  useEffect(function () {\n    if (isNumberOrTrue(affixHeader) || isNumberOrTrue(affixHorizontalScrollbar)) {\n      scrollListener.current = on(window, 'scroll', handleWindowScroll);\n    }\n    return function () {\n      var _scrollListener$curre;\n      (_scrollListener$curre = scrollListener.current) === null || _scrollListener$curre === void 0 ? void 0 : _scrollListener$curre.off();\n    };\n  }, [affixHeader, affixHorizontalScrollbar, handleWindowScroll]);\n};\nexport default useAffix;","map":{"version":3,"names":["useRef","useCallback","useEffect","getHeight","addStyle","removeStyle","on","toggleClass","isNumberOrTrue","useUpdateEffect","useAffix","props","getTableHeight","contentHeight","affixHorizontalScrollbar","affixHeader","tableOffset","headerOffset","headerHeight","scrollbarXRef","affixHeaderWrapperRef","scrollListener","handleAffixHorizontalScrollbar","_tableOffset$current","_scrollbarXRef$curren","scrollY","window","pageYOffset","windowHeight","height","bottom","offsetTop","current","top","fixedScrollbar","root","handleAffixTableHeader","_headerOffset$current","fixedHeader","handleWindowScroll","_scrollListener$curre","off"],"sources":["C:/Users/lenovo/OneDrive/Documents/local project/platfoorm45_technical_challenge/node_modules/rsuite-table/es/utils/useAffix.js"],"sourcesContent":["'use client';\nimport { useRef, useCallback, useEffect } from 'react';\nimport getHeight from 'dom-lib/getHeight';\nimport addStyle from 'dom-lib/addStyle';\nimport removeStyle from 'dom-lib/removeStyle';\nimport on from 'dom-lib/on';\nimport toggleClass from './toggleClass';\nimport isNumberOrTrue from './isNumberOrTrue';\nimport useUpdateEffect from './useUpdateEffect';\nvar useAffix = function useAffix(props) {\n  var getTableHeight = props.getTableHeight,\n    contentHeight = props.contentHeight,\n    affixHorizontalScrollbar = props.affixHorizontalScrollbar,\n    affixHeader = props.affixHeader,\n    tableOffset = props.tableOffset,\n    headerOffset = props.headerOffset,\n    headerHeight = props.headerHeight,\n    scrollbarXRef = props.scrollbarXRef,\n    affixHeaderWrapperRef = props.affixHeaderWrapperRef;\n  var scrollListener = useRef();\n  var handleAffixHorizontalScrollbar = useCallback(function () {\n    var _tableOffset$current, _scrollbarXRef$curren;\n    var scrollY = window.scrollY || window.pageYOffset;\n    var windowHeight = getHeight(window);\n    var height = getTableHeight();\n    var bottom = typeof affixHorizontalScrollbar === 'number' ? affixHorizontalScrollbar : 0;\n    var offsetTop = ((_tableOffset$current = tableOffset.current) === null || _tableOffset$current === void 0 ? void 0 : _tableOffset$current.top) || 0;\n    var fixedScrollbar = scrollY + windowHeight < height + (offsetTop + bottom) && scrollY + windowHeight - headerHeight > offsetTop + bottom;\n    if (scrollbarXRef !== null && scrollbarXRef !== void 0 && (_scrollbarXRef$curren = scrollbarXRef.current) !== null && _scrollbarXRef$curren !== void 0 && _scrollbarXRef$curren.root) {\n      toggleClass(scrollbarXRef.current.root, 'fixed', fixedScrollbar);\n      if (fixedScrollbar) {\n        addStyle(scrollbarXRef.current.root, 'bottom', bottom + \"px\");\n      } else {\n        removeStyle(scrollbarXRef.current.root, 'bottom');\n      }\n    }\n  }, [affixHorizontalScrollbar, headerHeight, scrollbarXRef, getTableHeight, tableOffset]);\n  var handleAffixTableHeader = useCallback(function () {\n    var _headerOffset$current;\n    var top = typeof affixHeader === 'number' ? affixHeader : 0;\n    var scrollY = window.scrollY || window.pageYOffset;\n    var offsetTop = ((_headerOffset$current = headerOffset.current) === null || _headerOffset$current === void 0 ? void 0 : _headerOffset$current.top) || 0;\n    var fixedHeader = scrollY - (offsetTop - top) >= 0 && scrollY < offsetTop - top + contentHeight.current;\n    if (affixHeaderWrapperRef.current) {\n      toggleClass(affixHeaderWrapperRef.current, 'fixed', fixedHeader);\n    }\n  }, [affixHeader, affixHeaderWrapperRef, contentHeight, headerOffset]);\n  var handleWindowScroll = useCallback(function () {\n    if (isNumberOrTrue(affixHeader)) {\n      handleAffixTableHeader();\n    }\n    if (isNumberOrTrue(affixHorizontalScrollbar)) {\n      handleAffixHorizontalScrollbar();\n    }\n  }, [affixHeader, affixHorizontalScrollbar, handleAffixTableHeader, handleAffixHorizontalScrollbar]);\n\n  /**\n   * Update the position of the fixed element after the height of the table changes.\n   * fix: https://github.com/rsuite/rsuite/issues/1716\n   */\n  useUpdateEffect(handleWindowScroll, [getTableHeight]);\n  useEffect(function () {\n    if (isNumberOrTrue(affixHeader) || isNumberOrTrue(affixHorizontalScrollbar)) {\n      scrollListener.current = on(window, 'scroll', handleWindowScroll);\n    }\n    return function () {\n      var _scrollListener$curre;\n      (_scrollListener$curre = scrollListener.current) === null || _scrollListener$curre === void 0 ? void 0 : _scrollListener$curre.off();\n    };\n  }, [affixHeader, affixHorizontalScrollbar, handleWindowScroll]);\n};\nexport default useAffix;"],"mappings":"AAAA,YAAY;;AACZ,SAASA,MAAM,EAAEC,WAAW,EAAEC,SAAS,QAAQ,OAAO;AACtD,OAAOC,SAAS,MAAM,mBAAmB;AACzC,OAAOC,QAAQ,MAAM,kBAAkB;AACvC,OAAOC,WAAW,MAAM,qBAAqB;AAC7C,OAAOC,EAAE,MAAM,YAAY;AAC3B,OAAOC,WAAW,MAAM,eAAe;AACvC,OAAOC,cAAc,MAAM,kBAAkB;AAC7C,OAAOC,eAAe,MAAM,mBAAmB;AAC/C,IAAIC,QAAQ,GAAG,SAASA,QAAQA,CAACC,KAAK,EAAE;EACtC,IAAIC,cAAc,GAAGD,KAAK,CAACC,cAAc;IACvCC,aAAa,GAAGF,KAAK,CAACE,aAAa;IACnCC,wBAAwB,GAAGH,KAAK,CAACG,wBAAwB;IACzDC,WAAW,GAAGJ,KAAK,CAACI,WAAW;IAC/BC,WAAW,GAAGL,KAAK,CAACK,WAAW;IAC/BC,YAAY,GAAGN,KAAK,CAACM,YAAY;IACjCC,YAAY,GAAGP,KAAK,CAACO,YAAY;IACjCC,aAAa,GAAGR,KAAK,CAACQ,aAAa;IACnCC,qBAAqB,GAAGT,KAAK,CAACS,qBAAqB;EACrD,IAAIC,cAAc,GAAGrB,MAAM,CAAC,CAAC;EAC7B,IAAIsB,8BAA8B,GAAGrB,WAAW,CAAC,YAAY;IAC3D,IAAIsB,oBAAoB,EAAEC,qBAAqB;IAC/C,IAAIC,OAAO,GAAGC,MAAM,CAACD,OAAO,IAAIC,MAAM,CAACC,WAAW;IAClD,IAAIC,YAAY,GAAGzB,SAAS,CAACuB,MAAM,CAAC;IACpC,IAAIG,MAAM,GAAGjB,cAAc,CAAC,CAAC;IAC7B,IAAIkB,MAAM,GAAG,OAAOhB,wBAAwB,KAAK,QAAQ,GAAGA,wBAAwB,GAAG,CAAC;IACxF,IAAIiB,SAAS,GAAG,CAAC,CAACR,oBAAoB,GAAGP,WAAW,CAACgB,OAAO,MAAM,IAAI,IAAIT,oBAAoB,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,oBAAoB,CAACU,GAAG,KAAK,CAAC;IACnJ,IAAIC,cAAc,GAAGT,OAAO,GAAGG,YAAY,GAAGC,MAAM,IAAIE,SAAS,GAAGD,MAAM,CAAC,IAAIL,OAAO,GAAGG,YAAY,GAAGV,YAAY,GAAGa,SAAS,GAAGD,MAAM;IACzI,IAAIX,aAAa,KAAK,IAAI,IAAIA,aAAa,KAAK,KAAK,CAAC,IAAI,CAACK,qBAAqB,GAAGL,aAAa,CAACa,OAAO,MAAM,IAAI,IAAIR,qBAAqB,KAAK,KAAK,CAAC,IAAIA,qBAAqB,CAACW,IAAI,EAAE;MACpL5B,WAAW,CAACY,aAAa,CAACa,OAAO,CAACG,IAAI,EAAE,OAAO,EAAED,cAAc,CAAC;MAChE,IAAIA,cAAc,EAAE;QAClB9B,QAAQ,CAACe,aAAa,CAACa,OAAO,CAACG,IAAI,EAAE,QAAQ,EAAEL,MAAM,GAAG,IAAI,CAAC;MAC/D,CAAC,MAAM;QACLzB,WAAW,CAACc,aAAa,CAACa,OAAO,CAACG,IAAI,EAAE,QAAQ,CAAC;MACnD;IACF;EACF,CAAC,EAAE,CAACrB,wBAAwB,EAAEI,YAAY,EAAEC,aAAa,EAAEP,cAAc,EAAEI,WAAW,CAAC,CAAC;EACxF,IAAIoB,sBAAsB,GAAGnC,WAAW,CAAC,YAAY;IACnD,IAAIoC,qBAAqB;IACzB,IAAIJ,GAAG,GAAG,OAAOlB,WAAW,KAAK,QAAQ,GAAGA,WAAW,GAAG,CAAC;IAC3D,IAAIU,OAAO,GAAGC,MAAM,CAACD,OAAO,IAAIC,MAAM,CAACC,WAAW;IAClD,IAAII,SAAS,GAAG,CAAC,CAACM,qBAAqB,GAAGpB,YAAY,CAACe,OAAO,MAAM,IAAI,IAAIK,qBAAqB,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,qBAAqB,CAACJ,GAAG,KAAK,CAAC;IACvJ,IAAIK,WAAW,GAAGb,OAAO,IAAIM,SAAS,GAAGE,GAAG,CAAC,IAAI,CAAC,IAAIR,OAAO,GAAGM,SAAS,GAAGE,GAAG,GAAGpB,aAAa,CAACmB,OAAO;IACvG,IAAIZ,qBAAqB,CAACY,OAAO,EAAE;MACjCzB,WAAW,CAACa,qBAAqB,CAACY,OAAO,EAAE,OAAO,EAAEM,WAAW,CAAC;IAClE;EACF,CAAC,EAAE,CAACvB,WAAW,EAAEK,qBAAqB,EAAEP,aAAa,EAAEI,YAAY,CAAC,CAAC;EACrE,IAAIsB,kBAAkB,GAAGtC,WAAW,CAAC,YAAY;IAC/C,IAAIO,cAAc,CAACO,WAAW,CAAC,EAAE;MAC/BqB,sBAAsB,CAAC,CAAC;IAC1B;IACA,IAAI5B,cAAc,CAACM,wBAAwB,CAAC,EAAE;MAC5CQ,8BAA8B,CAAC,CAAC;IAClC;EACF,CAAC,EAAE,CAACP,WAAW,EAAED,wBAAwB,EAAEsB,sBAAsB,EAAEd,8BAA8B,CAAC,CAAC;;EAEnG;AACF;AACA;AACA;EACEb,eAAe,CAAC8B,kBAAkB,EAAE,CAAC3B,cAAc,CAAC,CAAC;EACrDV,SAAS,CAAC,YAAY;IACpB,IAAIM,cAAc,CAACO,WAAW,CAAC,IAAIP,cAAc,CAACM,wBAAwB,CAAC,EAAE;MAC3EO,cAAc,CAACW,OAAO,GAAG1B,EAAE,CAACoB,MAAM,EAAE,QAAQ,EAAEa,kBAAkB,CAAC;IACnE;IACA,OAAO,YAAY;MACjB,IAAIC,qBAAqB;MACzB,CAACA,qBAAqB,GAAGnB,cAAc,CAACW,OAAO,MAAM,IAAI,IAAIQ,qBAAqB,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,qBAAqB,CAACC,GAAG,CAAC,CAAC;IACtI,CAAC;EACH,CAAC,EAAE,CAAC1B,WAAW,EAAED,wBAAwB,EAAEyB,kBAAkB,CAAC,CAAC;AACjE,CAAC;AACD,eAAe7B,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}