{"ast":null,"code":"'use client';\n\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { useCallback, useMemo } from 'react';\nimport get from 'lodash/get';\nimport set from 'lodash/set';\nimport { nameToPath } from \"../utils.js\";\nfunction getErrorMessage(error) {\n  var _error$array;\n  /**\n   * When using some components as the field, such as TagInput, and using `ArrayType().of` as the validation rule,\n   * the error object won't contain the errorMessage directly. @see https://github.com/rsuite/rsuite/issues/3866\n   */\n  if (error !== null && error !== void 0 && error.array && ((_error$array = error.array) === null || _error$array === void 0 ? void 0 : _error$array.length) > 0) {\n    return error.array[0].errorMessage;\n  }\n  return error === null || error === void 0 ? void 0 : error.errorMessage;\n}\nfunction useField(props) {\n  var name = props.name,\n    formValue = props.formValue,\n    formError = props.formError,\n    value = props.value,\n    nestedField = props.nestedField,\n    errorMessage = props.errorMessage,\n    errorFromContext = props.errorFromContext;\n  var fieldValue = useMemo(function () {\n    if (typeof value !== 'undefined') {\n      return value;\n    }\n    return nestedField ? get(formValue, name) : formValue === null || formValue === void 0 ? void 0 : formValue[name];\n  }, [formValue, name, nestedField, value]);\n  var fieldError = useMemo(function () {\n    if (typeof errorMessage !== 'undefined' || !errorFromContext) {\n      return errorMessage;\n    }\n    if (nestedField) {\n      return getErrorMessage(get(formError, nameToPath(name)));\n    }\n    var fieldError = formError === null || formError === void 0 ? void 0 : formError[name];\n    if (typeof fieldError === 'string') {\n      return fieldError;\n    }\n    return getErrorMessage(fieldError);\n  }, [errorFromContext, errorMessage, formError, name, nestedField]);\n  var setFieldValue = useCallback(function (fieldName, fieldValue) {\n    var _extends2;\n    if (nestedField) {\n      return set(_extends({}, formValue), fieldName, fieldValue);\n    }\n    return _extends({}, formValue, (_extends2 = {}, _extends2[fieldName] = fieldValue, _extends2));\n  }, [formValue, nestedField]);\n  return {\n    fieldValue: fieldValue,\n    fieldError: fieldError,\n    setFieldValue: setFieldValue\n  };\n}\nexport default useField;","map":{"version":3,"names":["_extends","useCallback","useMemo","get","set","nameToPath","getErrorMessage","error","_error$array","array","length","errorMessage","useField","props","name","formValue","formError","value","nestedField","errorFromContext","fieldValue","fieldError","setFieldValue","fieldName","_extends2"],"sources":["C:/Users/lenovo/OneDrive/Documents/local project/platfoorm45_technical_challenge/node_modules/rsuite/esm/FormControl/hooks/useField.js"],"sourcesContent":["'use client';\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { useCallback, useMemo } from 'react';\nimport get from 'lodash/get';\nimport set from 'lodash/set';\nimport { nameToPath } from \"../utils.js\";\nfunction getErrorMessage(error) {\n  var _error$array;\n  /**\n   * When using some components as the field, such as TagInput, and using `ArrayType().of` as the validation rule,\n   * the error object won't contain the errorMessage directly. @see https://github.com/rsuite/rsuite/issues/3866\n   */\n  if (error !== null && error !== void 0 && error.array && ((_error$array = error.array) === null || _error$array === void 0 ? void 0 : _error$array.length) > 0) {\n    return error.array[0].errorMessage;\n  }\n  return error === null || error === void 0 ? void 0 : error.errorMessage;\n}\nfunction useField(props) {\n  var name = props.name,\n    formValue = props.formValue,\n    formError = props.formError,\n    value = props.value,\n    nestedField = props.nestedField,\n    errorMessage = props.errorMessage,\n    errorFromContext = props.errorFromContext;\n  var fieldValue = useMemo(function () {\n    if (typeof value !== 'undefined') {\n      return value;\n    }\n    return nestedField ? get(formValue, name) : formValue === null || formValue === void 0 ? void 0 : formValue[name];\n  }, [formValue, name, nestedField, value]);\n  var fieldError = useMemo(function () {\n    if (typeof errorMessage !== 'undefined' || !errorFromContext) {\n      return errorMessage;\n    }\n    if (nestedField) {\n      return getErrorMessage(get(formError, nameToPath(name)));\n    }\n    var fieldError = formError === null || formError === void 0 ? void 0 : formError[name];\n    if (typeof fieldError === 'string') {\n      return fieldError;\n    }\n    return getErrorMessage(fieldError);\n  }, [errorFromContext, errorMessage, formError, name, nestedField]);\n  var setFieldValue = useCallback(function (fieldName, fieldValue) {\n    var _extends2;\n    if (nestedField) {\n      return set(_extends({}, formValue), fieldName, fieldValue);\n    }\n    return _extends({}, formValue, (_extends2 = {}, _extends2[fieldName] = fieldValue, _extends2));\n  }, [formValue, nestedField]);\n  return {\n    fieldValue: fieldValue,\n    fieldError: fieldError,\n    setFieldValue: setFieldValue\n  };\n}\nexport default useField;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}