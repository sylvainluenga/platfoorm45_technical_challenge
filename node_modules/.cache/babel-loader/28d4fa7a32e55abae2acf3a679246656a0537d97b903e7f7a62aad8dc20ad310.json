{"ast":null,"code":"'use client';\n\nimport { SchemaModel } from 'schema-typed';\nimport { useRef, useCallback } from 'react';\nfunction useSchemaModel(formModel) {\n  var subRulesRef = useRef([]);\n  var pushFieldRule = useCallback(function (name, fieldRule) {\n    subRulesRef.current.push({\n      name: name,\n      fieldRule: fieldRule\n    });\n  }, []);\n  var removeFieldRule = useCallback(function (name) {\n    var index = subRulesRef.current.findIndex(function (v) {\n      return v.name === name;\n    });\n    subRulesRef.current.splice(index, 1);\n  }, []);\n  var getCombinedModel = useCallback(function () {\n    var realSubRules = subRulesRef.current.filter(function (v) {\n      return Boolean(v.fieldRule.current);\n    });\n\n    // If there is no sub rule, return the original form model\n    if (realSubRules.length === 0) {\n      return formModel;\n    }\n    return SchemaModel.combine(formModel, SchemaModel(realSubRules.map(function (_ref) {\n      var _ref2;\n      var name = _ref.name,\n        fieldRule = _ref.fieldRule;\n      return _ref2 = {}, _ref2[name] = fieldRule.current, _ref2;\n    }).reduce(function (a, b) {\n      return Object.assign(a, b);\n    }, {})));\n  }, [formModel]);\n  return {\n    getCombinedModel: getCombinedModel,\n    pushFieldRule: pushFieldRule,\n    removeFieldRule: removeFieldRule\n  };\n}\nexport default useSchemaModel;","map":{"version":3,"names":["SchemaModel","useRef","useCallback","useSchemaModel","formModel","subRulesRef","pushFieldRule","name","fieldRule","current","push","removeFieldRule","index","findIndex","v","splice","getCombinedModel","realSubRules","filter","Boolean","length","combine","map","_ref","_ref2","reduce","a","b","Object","assign"],"sources":["C:/Users/lenovo/OneDrive/Documents/local project/platfoorm45_technical_challenge/node_modules/rsuite/esm/Form/hooks/useSchemaModel.js"],"sourcesContent":["'use client';\nimport { SchemaModel } from 'schema-typed';\nimport { useRef, useCallback } from 'react';\nfunction useSchemaModel(formModel) {\n  var subRulesRef = useRef([]);\n  var pushFieldRule = useCallback(function (name, fieldRule) {\n    subRulesRef.current.push({\n      name: name,\n      fieldRule: fieldRule\n    });\n  }, []);\n  var removeFieldRule = useCallback(function (name) {\n    var index = subRulesRef.current.findIndex(function (v) {\n      return v.name === name;\n    });\n    subRulesRef.current.splice(index, 1);\n  }, []);\n  var getCombinedModel = useCallback(function () {\n    var realSubRules = subRulesRef.current.filter(function (v) {\n      return Boolean(v.fieldRule.current);\n    });\n\n    // If there is no sub rule, return the original form model\n    if (realSubRules.length === 0) {\n      return formModel;\n    }\n    return SchemaModel.combine(formModel, SchemaModel(realSubRules.map(function (_ref) {\n      var _ref2;\n      var name = _ref.name,\n        fieldRule = _ref.fieldRule;\n      return _ref2 = {}, _ref2[name] = fieldRule.current, _ref2;\n    }).reduce(function (a, b) {\n      return Object.assign(a, b);\n    }, {})));\n  }, [formModel]);\n  return {\n    getCombinedModel: getCombinedModel,\n    pushFieldRule: pushFieldRule,\n    removeFieldRule: removeFieldRule\n  };\n}\nexport default useSchemaModel;"],"mappings":"AAAA,YAAY;;AACZ,SAASA,WAAW,QAAQ,cAAc;AAC1C,SAASC,MAAM,EAAEC,WAAW,QAAQ,OAAO;AAC3C,SAASC,cAAcA,CAACC,SAAS,EAAE;EACjC,IAAIC,WAAW,GAAGJ,MAAM,CAAC,EAAE,CAAC;EAC5B,IAAIK,aAAa,GAAGJ,WAAW,CAAC,UAAUK,IAAI,EAAEC,SAAS,EAAE;IACzDH,WAAW,CAACI,OAAO,CAACC,IAAI,CAAC;MACvBH,IAAI,EAAEA,IAAI;MACVC,SAAS,EAAEA;IACb,CAAC,CAAC;EACJ,CAAC,EAAE,EAAE,CAAC;EACN,IAAIG,eAAe,GAAGT,WAAW,CAAC,UAAUK,IAAI,EAAE;IAChD,IAAIK,KAAK,GAAGP,WAAW,CAACI,OAAO,CAACI,SAAS,CAAC,UAAUC,CAAC,EAAE;MACrD,OAAOA,CAAC,CAACP,IAAI,KAAKA,IAAI;IACxB,CAAC,CAAC;IACFF,WAAW,CAACI,OAAO,CAACM,MAAM,CAACH,KAAK,EAAE,CAAC,CAAC;EACtC,CAAC,EAAE,EAAE,CAAC;EACN,IAAII,gBAAgB,GAAGd,WAAW,CAAC,YAAY;IAC7C,IAAIe,YAAY,GAAGZ,WAAW,CAACI,OAAO,CAACS,MAAM,CAAC,UAAUJ,CAAC,EAAE;MACzD,OAAOK,OAAO,CAACL,CAAC,CAACN,SAAS,CAACC,OAAO,CAAC;IACrC,CAAC,CAAC;;IAEF;IACA,IAAIQ,YAAY,CAACG,MAAM,KAAK,CAAC,EAAE;MAC7B,OAAOhB,SAAS;IAClB;IACA,OAAOJ,WAAW,CAACqB,OAAO,CAACjB,SAAS,EAAEJ,WAAW,CAACiB,YAAY,CAACK,GAAG,CAAC,UAAUC,IAAI,EAAE;MACjF,IAAIC,KAAK;MACT,IAAIjB,IAAI,GAAGgB,IAAI,CAAChB,IAAI;QAClBC,SAAS,GAAGe,IAAI,CAACf,SAAS;MAC5B,OAAOgB,KAAK,GAAG,CAAC,CAAC,EAAEA,KAAK,CAACjB,IAAI,CAAC,GAAGC,SAAS,CAACC,OAAO,EAAEe,KAAK;IAC3D,CAAC,CAAC,CAACC,MAAM,CAAC,UAAUC,CAAC,EAAEC,CAAC,EAAE;MACxB,OAAOC,MAAM,CAACC,MAAM,CAACH,CAAC,EAAEC,CAAC,CAAC;IAC5B,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;EACV,CAAC,EAAE,CAACvB,SAAS,CAAC,CAAC;EACf,OAAO;IACLY,gBAAgB,EAAEA,gBAAgB;IAClCV,aAAa,EAAEA,aAAa;IAC5BK,eAAe,EAAEA;EACnB,CAAC;AACH;AACA,eAAeR,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}